<!DOCTYPE html>
<!-- Test from VS Code -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Revenue Leak Detector</title>

    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GXKB397HCM"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-GXKB397HCM');
    </script>
    <!-- End Google Analytics 4 -->
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NW9BNBJQ');</script>
    <!-- End Google Tag Manager -->

    <link rel="stylesheet" href="styles.css">
    <!-- Add these two script tags BEFORE the closing </head> tag -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

</head>
<body>

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NW9BNBJQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
     
    <div id="app-container">
        <!-- Header Section -->
        <header class="header">
            <h1>Revenue Leak Detector</h1>
            <p class="subtitle">Find your profit leaks in 3 minutes</p>
            <p class="experience">$500M+ SMB optimization across 32 industries</p>
            
            <div class="progress-container">
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill"></div>
                </div>
                <span id="progress-text">Get Started</span>
            </div>
        </header>

        <!-- Industry Selection Screen -->
        <div id="industry-selection" class="screen active">
            <h2>What's your industry?</h2>
            <p>We'll use industry-specific benchmarks to calculate your profit leaks</p>
            
            <div class="industry-grid" id="industry-grid">
                <!-- Industries will be loaded dynamically -->
            </div>
            
            <button id="continue-to-revenue" class="btn-primary hidden" onclick="showRevenueScreen()">
                Continue
            </button>
        </div>

        <!-- Revenue Input Screen -->
        <!-- 
        
        <div id="revenue-input" class="screen">
            <h2>What's your annual revenue?</h2>
            <p>Last 12 months, approximately</p>
            
            <div class="revenue-options">
                <button class="revenue-btn" onclick="selectRevenue(250000)">Under $250K</button>
                <button class="revenue-btn" onclick="selectRevenue(500000)">$250K - $500K</button>
                <button class="revenue-btn" onclick="selectRevenue(1000000)">$500K - $1M</button>
                <button class="revenue-btn" onclick="selectRevenue(2500000)">$1M - $2.5M</button>
                <button class="revenue-btn" onclick="selectRevenue(5000000)">$2.5M - $5M</button>
                <button class="revenue-btn" onclick="selectRevenue(10000000)">$5M - $10M</button>
                <button class="revenue-btn" onclick="selectRevenue(25000000)">$10M - $25M</button>
                <button class="revenue-btn" onclick="selectRevenue(50000000)">$25M+</button>
            </div>
            
            <div class="custom-revenue">
                <p>Or enter exact amount:</p>
                <input type="number" id="custom-revenue" placeholder="e.g., 3500000" />
                <button class="btn-secondary" onclick="useCustomRevenue()">Use This Amount</button>
            </div>
            
            <button id="start-assessment" class="btn-primary hidden" onclick="startAssessment()">
                Start Assessment
            </button>
        </div>
         -->
        
        <!-- Headcount Selection Screen -->
        <div id="headcount-input" class="screen">
            
            <!-- Industry Confirmation Banner -->
            <!-- Shows selected industry with "Change" button to go back -->
            <div class="industry-confirmation-banner">
                <div class="confirmation-content">
                    <div class="confirmation-icon">‚úì</div>
                    <div class="confirmation-text">
                        <span class="confirmation-label">Industry:</span>
                        <span class="confirmation-value" id="selected-industry-display">Loading...</span>
                    </div>
                </div>
                <button class="btn-change" onclick="goBackToIndustry()">
                    Change
                </button>
            </div>
            
            <!-- Headcount Question -->
            <h2>How many people work at your company?</h2>
            <p>This helps us calculate accurate profit leaks for your organization size</p>
            
            <!-- Headcount Options Grid -->

            <div class="headcount-options">
    
                <button class="headcount-btn" onclick="selectHeadcount('1-10', this)">
                    <div class="headcount-number">1-10</div>
                    <div class="headcount-label">Small Team</div>
                </button>
                
                <button class="headcount-btn" onclick="selectHeadcount('11-50', this)">
                    <div class="headcount-number">11-50</div>
                    <div class="headcount-label">Growing Company</div>
                </button>
                
                <button class="headcount-btn" onclick="selectHeadcount('51-100', this)">
                    <div class="headcount-number">51-100</div>
                    <div class="headcount-label">Mid-Sized Business</div>
                </button>
                
                <button class="headcount-btn" onclick="selectHeadcount('101-150', this)">
                    <div class="headcount-number">101-150</div>
                    <div class="headcount-label">Established Company</div>
                </button>
                
                <button class="headcount-btn" onclick="selectHeadcount('151-250', this)">
                    <div class="headcount-number">151-250</div>
                    <div class="headcount-label">Scaling Business</div>
                </button>
                
                <button class="headcount-btn" onclick="selectHeadcount('251-500', this)">
                    <div class="headcount-number">251-500</div>
                    <div class="headcount-label">Large Enterprise</div>
                </button>
                
                <button class="headcount-btn" onclick="selectHeadcount('501+', this)">
                    <div class="headcount-number">501+</div>
                    <div class="headcount-label">Major Enterprise</div>
                </button>
                
            </div>
 
            
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="screen">
            <div class="section-header">
                <h2 id="section-title">Loading...</h2>
                <p id="question-counter">Question 1 of 12</p>
            </div>
            
            <div id="question-container" class="question-container">
                <h3 id="question-text">Loading question...</h3>
                <div id="options-container" class="options">
                    <!-- Options will be loaded dynamically -->
                </div>
            </div>
            
            <div class="quiz-navigation">
                <button id="prev-question" class="btn-secondary" onclick="previousQuestion()" disabled>
                    Previous
                </button>
                <button id="next-question" class="btn-primary" onclick="nextQuestion()" disabled>
                    Next
                </button>
            </div>
        </div>

        <!-- Result Summary Screen (Before Email) -->
        <div id="result-summary-screen" class="screen">
            <div class="results-header">

                <h2 style="margin-bottom: 5px;">Your Profit Leak Analysis</h2>

                <div class="headline-result" style="background: transparent; padding: 0;">
                    <p class="industry-benchmark" style="margin-top: 0;">


                        Best practice <span id="summary-industry">your industry</span> companies typically leak around <span style="color: #00FFFF; font-weight: 700;">10%</span> of revenue.
                    </p>

                    <!-- Chart and Stats Container -->
                    <div style="display: flex; justify-content: center; align-items: center; gap: 30px; margin: 10px 0;">
                        <!-- Pie Chart Container -->
                        <div class="pie-chart-container"style="width: 160px; height: 160px; min-width: 160px; min-height: 160px;">
                            <canvas id="leak-pie-chart" width="160" height="160"></canvas>
                        </div>
                        
                        <!-- Stats on the right -->
                        <div style="text-align: left;">
                            <div id="summary-leak-dollars" style="font-size: 2.5em; font-weight: 700; color: #00FFFF; text-shadow: 0 0 20px rgba(0, 255, 255, 0.5);">$0</div>
                            <div style="font-size: 1em; color: #cccccc; margin-top: 5px;">revenue recovery potential</div>
                            <div style="margin-top: 15px;">
                                <span id="summary-leak-percentage-text" style="font-size: 1.3em; color: #00FFFF; font-weight: 600;">0%</span>
                                <span style="color: #cccccc; font-size: 1em;"> currently leaking</span>
                            </div>
                        </div>
                    </div>
                    
                    
                    
                    <!-- Biggest Opportunity Only -->
                    <div class="biggest-opportunity" style="margin-top: -10px; margin-bottom: 5px;">
                        <h3 style="margin-bottom: 15px;">Your Biggest Opportunity:</h3>
                        
                        <div style="background: rgba(255, 255, 255, 0.05); border-radius: 12px; padding: 15px 20px; border-left: 4px solid #00FFFF;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div id="biggest-leak-category" style="font-size: 1.1em; color: #ffffff;">Loading...</div>
                                <div id="biggest-leak-dollar" style="font-size: 1.5em; font-weight: 700; color: #00FFFF;">$0</div>
                            </div>
                        </div>
                        
                    </div>
                </div>
                
                <!-- Email Capture Section -->
                <div class="email-section" style="margin-top: 10px; text-align: center;">
                    <h3>Get Your Complete Profit Leak Report</h3>
                    <p style="color: #cccccc;">See all leaks, recovery potential, and your 90-day action plan</p>
                    <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
                        <input type="email" id="inline-report-email" placeholder="Enter your email" style="flex: 1; max-width: 300px; padding: 15px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(0, 255, 255, 0.3); color: #ffffff; border-radius: 12px; font-size: 1em;">
                        <button id="inline-send-report-btn" class="btn-primary" style="padding: 15px 30px;">Get Full Report</button>
                    </div>
                </div>

                <!-- ADD THIS SECTION HERE -->
                <div class="results-actions" style="margin-top: 40px; text-align: center;">
                    <button class="btn-secondary" onclick="startOver()" style="margin-right: 15px;">
                        Retake Assessment
                    </button>
                    <button class="btn-primary" onclick="requestAudit()">
                        Book Your Free Leak Audit ‚Üí
                    </button>
                </div>
                <!-- END OF NEW SECTION -->

            </div>
        </div>





        

        <!-- Results Screen -->
        <div id="results-screen" class="screen">
            <div class="results-header">
                <!-- Email Success Banner -->
                <div class="email-success-banner">
                  <div class="banner-content">
                    <div class="banner-icon">‚ö†Ô∏è</div>
                    <div class="banner-text">
                      <div class="banner-headline">Don't miss this ‚Äî your report is being sent</div>
                      <div class="banner-subject">Subject: <span id="dynamic-subject-line">Your Revenue Leak Report</span></div>
                      <div class="banner-action">
                        <span class="banner-info">üìß Check your inbox</span>
                        <span class="banner-divider">‚Ä¢</span>
                        <a href="#" id="view-report-link" class="banner-link">View your full report now ‚Üí</a>
                      </div>
                      <div class="banner-subtext">Your full Revenue Leak Report breaks down the 3 hidden patterns behind these losses ‚Äî and which can be recovered first.</div>
                    </div>
                  </div>
                </div>
                <h2 style="margin-bottom: -5px;">Your Profit Leak Analysis</h2>
                
                
                <div class="headline-result">
                    <p class="industry-benchmark" style="margin-top: 0; margin-bottom: 10px;"></p>
                    
                        Best practice <span id="result-industry">your industry</span> typically leak around <span id="best-practice-percentage">10%</span> of revenue.
                        <!--<span id="industry-average">25%</span> of revenue.-->
                    </p>
                    <div class="your-result">
                        <h3>You're leaking:</h3>
                        <div class="leak-amount">
                            <span id="leak-percentage">0%</span>
                            <span class="separator">‚Ä¢</span>
                            <span id="leak-dollars">$0</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="top-leaks">
                <h3>Your Top 3 Profit Leaks</h3>
                <div id="top-leaks-container">
                    <!-- Top leaks will be displayed here -->
                </div>
            </div>
            
            <div class="recovery-potential">
                <h3>Recovery Potential</h3>
                <p>Best practice companies in your vertical reduce leakage to ~12-15%.</p>
                <div class="recovery-amount">
                    For you, that's a recovery of <span id="recovery-dollars">$0</span>
                </div>
            </div>
            
            <div class="detailed-breakdown">
                <h3>Detailed Breakdown</h3>
                <div id="breakdown-container">
                    <!-- All leaks will be listed here -->
                </div>
            </div>
            
            <div class="results-actions">
                <button class="btn-secondary" onclick="startOver()">Take Assessment Again</button>
                <button class="btn-primary" onclick="requestAudit()">
                    Book Your Free Leak Audit ‚Üí
                </button>
            </div>
        </div>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay hidden">
            <div class="spinner"></div>
            <p id="loading-message">Loading...</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
<!-- Test auto-deploy -->
</html>
